(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{J4nM:function(o,r,e){"use strict";e.r(r),e.d(r,"RegisterModule",(function(){return P}));var t=e("ofXK"),n=e("tyNb"),i=e("3Pt+"),a=e("PSD3"),c=e.n(a),l=e("fXoL"),s=e("lJxs"),d=e("AytR"),b=e("tk/3");let u=(()=>{class o{constructor(o){this.http=o,this.baseUrl=d.a.baseUrl}validate(o){return this.http.get(`${this.baseUrl}usuarios?email=${o.value}`).pipe(Object(s.a)(o=>0===o.total?null:{emailTomado:!0}))}}return o.\u0275fac=function(r){return new(r||o)(l.ac(b.a))},o.\u0275prov=l.Nb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=e("E9a8"),m=e("ucNU");function g(o,r){1&o&&(l.Wb(0,"div",17),l.Wb(1,"div"),l.sc(2," El nombre es requerido. "),l.Vb(),l.Vb())}function f(o,r){1&o&&(l.Wb(0,"div",17),l.Wb(1,"div"),l.sc(2," El apellido es requerido. "),l.Vb(),l.Vb())}function v(o,r){if(1&o&&(l.Wb(0,"div",17),l.Wb(1,"div"),l.sc(2),l.Vb(),l.Vb()),2&o){const o=l.gc();l.Hb(2),l.uc(" ",o.emailErrorMsg," ")}}function h(o,r){1&o&&(l.Wb(0,"div",17),l.Wb(1,"div"),l.sc(2," Introduzca una contrase\xf1a por favor "),l.Vb(),l.Vb())}function V(o,r){1&o&&(l.Wb(0,"div",17),l.Wb(1,"div"),l.sc(2," Las contrase\xf1as deben ser iguales "),l.Vb(),l.Vb())}const W=function(){return["/login"]},w=[{path:"",component:(()=>{class o{constructor(o,r,e,t,n){this.fb=o,this.emailValidator=r,this.validatorService=e,this.authService=t,this.router=n,this.miFormulario=this.fb.group({nombre:["test6",[i.i.required]],apellido:["test6",[i.i.required]],email:["test6@gmail.com",[i.i.required,i.i.pattern(this.validatorService.emailPattern)],[this.emailValidator]],password:["123456",[i.i.required,i.i.minLength(6)]],password2:["123456",[i.i.required]]},{validators:[this.validatorService.camposIguales("password","password2")]})}get emailErrorMsg(){var o;const r=null===(o=this.miFormulario.get("email"))||void 0===o?void 0:o.errors;return(null==r?void 0:r.required)?"Email es obligatorio":(null==r?void 0:r.pattern)?"El valor ingresado no tiene formato de correo":(null==r?void 0:r.emailTomado)?"El email ya fue tomado":""}ngOnInit(){}campoNoValido(o){var r,e;return(null===(r=this.miFormulario.get(o))||void 0===r?void 0:r.invalid)&&(null===(e=this.miFormulario.get(o))||void 0===e?void 0:e.touched)}registro(){const{nombre:o,apellido:r,email:e,password:t}=this.miFormulario.value;this.authService.registro(o,r,e,t).subscribe(o=>{!0===o?this.router.navigateByUrl("/"):c.a.fire("Error",o,"error")})}}return o.\u0275fac=function(r){return new(r||o)(l.Rb(i.b),l.Rb(u),l.Rb(p.a),l.Rb(m.a),l.Rb(n.a))},o.\u0275cmp=l.Lb({type:o,selectors:[["app-register"]],decls:45,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-lg"],[1,"col-lg-6"],[3,"formGroup","ngSubmit"],["for","name"],["type","text","placeholder","Introduzca su nombre","formControlName","nombre","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastname"],["type","text","placeholder","Introduzca su apellido","name","lastname","formControlName","apellido","required","",1,"form-control"],["for","email"],["type","text","placeholder","Introduzca su email","name","email","formControlName","email","required","",1,"form-control"],["for","password"],["type","password","placeholder","Introduzca la contrase\xf1a","formControlName","password","required","",1,"form-control"],["type","password","placeholder","Introduzca la contrase\xf1a","formControlName","password2","required","",1,"form-control"],[2,"color","dodgerblue",3,"routerLink"],["type","submit",1,"signup-btn",3,"disabled"],[1,"alert","alert-danger"]],template:function(o,r){1&o&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Sb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"form",4),l.ec("ngSubmit",(function(){return r.registro()})),l.Wb(5,"h1"),l.sc(6,"Registro de usuario"),l.Vb(),l.Wb(7,"p"),l.sc(8," Rellena los datos del formulario para efectuar el registro de tu cuenta de usuario. "),l.Vb(),l.Sb(9,"hr"),l.Wb(10,"label",5),l.Wb(11,"b"),l.sc(12,"Nombre"),l.Vb(),l.Vb(),l.Sb(13,"input",6),l.rc(14,g,3,0,"div",7),l.Wb(15,"label",8),l.Wb(16,"b"),l.sc(17,"Apellido"),l.Vb(),l.Vb(),l.Sb(18,"input",9),l.rc(19,f,3,0,"div",7),l.Wb(20,"label",10),l.Wb(21,"b"),l.sc(22,"Correo"),l.Vb(),l.Vb(),l.Sb(23,"input",11),l.rc(24,v,3,1,"div",7),l.Wb(25,"label",12),l.Wb(26,"b"),l.sc(27,"Contrase\xf1a"),l.Vb(),l.Vb(),l.Sb(28,"input",13),l.rc(29,h,3,0,"div",7),l.Wb(30,"label",12),l.Wb(31,"b"),l.sc(32,"Por favor confirmar contrase\xf1a"),l.Vb(),l.Vb(),l.Sb(33,"input",14),l.rc(34,V,3,0,"div",7),l.Wb(35,"p"),l.sc(36," \xbfYa tiene una cuenta? "),l.Wb(37,"a",15),l.sc(38,"Iniciar sesi\xf3n"),l.Vb(),l.sc(39,". "),l.Vb(),l.Wb(40,"div",1),l.Wb(41,"div",2),l.Wb(42,"button",16),l.sc(43,"Registrarse"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Sb(44,"div",2),l.Vb(),l.Vb()),2&o&&(l.Hb(4),l.jc("formGroup",r.miFormulario),l.Hb(10),l.jc("ngIf",r.campoNoValido("nombre")),l.Hb(5),l.jc("ngIf",r.campoNoValido("apellido")),l.Hb(5),l.jc("ngIf",r.campoNoValido("email")),l.Hb(5),l.jc("ngIf",r.campoNoValido("password")),l.Hb(5),l.jc("ngIf",r.campoNoValido("password2")),l.Hb(3),l.jc("routerLink",l.kc(8,W)),l.Hb(5),l.jc("disabled",r.miFormulario.invalid))},directives:[i.j,i.f,i.d,i.a,i.e,i.c,i.h,t.j,n.c],styles:["form[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px}h1[_ngcontent-%COMP%]{color:#398adb}hr[_ngcontent-%COMP%]{border:1px solid #f1f1f1;margin-bottom:25px}label[_ngcontent-%COMP%]{color:#578add}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}.signup-btn[_ngcontent-%COMP%]{background-color:#287dd4}.signup-btn[_ngcontent-%COMP%]:disabled{background-color:#7c7d7c;cursor:not-allowed}.signup-btn[_ngcontent-%COMP%]:active{background-color:#1d6fb7}.cancel-btn[_ngcontent-%COMP%]:hover, .signup-btn[_ngcontent-%COMP%]:hover{opacity:1}.cancel-btn[_ngcontent-%COMP%]{padding:14px 20px;background-color:#f44336}.cancel-btn[_ngcontent-%COMP%], .signup-btn[_ngcontent-%COMP%]{color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;opacity:.9;width:100%}@media screen and (max-width:300px){.cancel-btn[_ngcontent-%COMP%], .signup-btn[_ngcontent-%COMP%]{width:100%}}"]}),o})()}];let C=(()=>{class o{}return o.\u0275mod=l.Pb({type:o}),o.\u0275inj=l.Ob({factory:function(r){return new(r||o)},imports:[[n.d.forChild(w)],n.d]}),o})(),P=(()=>{class o{}return o.\u0275mod=l.Pb({type:o}),o.\u0275inj=l.Ob({factory:function(r){return new(r||o)},imports:[[t.b,C,i.g]]}),o})()}}]);