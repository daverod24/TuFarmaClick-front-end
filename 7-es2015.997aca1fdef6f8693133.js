(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{gNU3:function(t,r,o){"use strict";o.r(r),o.d(r,"CategoriasModule",(function(){return m}));var e=o("ofXK"),a=o("tyNb"),i=o("PSD3"),n=o.n(i),c=o("fXoL"),b=o("NtuB"),s=o("3Pt+");const u=function(t){return["editarCategoria",t]};function g(t,r){if(1&t){const t=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td"),c.uc(2),c.Vb(),c.Wb(3,"td"),c.uc(4),c.Vb(),c.Wb(5,"td"),c.Wb(6,"button",13),c.ec("click",(function(){c.qc(t);const o=r.$implicit;return c.gc().deleteCategoria(o._id)})),c.Sb(7,"i",14),c.Vb(),c.Wb(8,"button",15),c.Sb(9,"i",16),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=r.$implicit;c.Hb(2),c.vc(t._id),c.Hb(2),c.vc(t.nombre),c.Hb(4),c.kc("routerLink",c.nc(3,u,t._uid))}}let d=(()=>{class t{constructor(t,r){this.productosService=t,this.fb=r,this.page=1,this.miFormulario=this.fb.group({nombre:[""]})}ngOnInit(){this.listarCategorias()}listarCategorias(){this.productosService.getCategorias().subscribe(t=>{console.log(t),this.categorias=t.categorias})}deleteCategoria(t){n.a.fire({title:"\xbfEsta Seguro de borrar?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1Si, borrar!"}).then(r=>{r.isConfirmed&&(this.productosService.deleteCategoria(t).subscribe(t=>{this.actualizarCategorias()}),n.a.fire("Borrado!","La categoria se borro con \xe9xito.","success"))})}actualizarCategorias(){this.productosService.getCategorias().subscribe(t=>{this.categorias=t.categorias,console.log(t)})}agregarCategoria(){n.a.fire({title:"\xbfDesea guardar los cambios?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Guardar",denyButtonText:"No guardar"}).then(t=>{t.isConfirmed?this.productosService.createCategoria({nombre:this.miFormulario.value}).subscribe(t=>{console.log(t),t&&(n.a.fire("Categor\xeda guardada con exito!","","success"),this.miFormulario.reset())},t=>{console.log(t.error.msg),n.a.fire("Ha ocurrido un error: "+t.error.msg,"","error")}):t.isDenied&&n.a.fire("Producto no guardado","","info")})}}return t.\u0275fac=function(r){return new(r||t)(c.Rb(b.a),c.Rb(s.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-categorias"]],decls:24,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-4"],[3,"formGroup","ngSubmit"],[1,"col-4","mb-3"],["type","text","formControlName","nombre","placeholder","Agregar Categor\xeda","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control"],[1,"col-4"],["type","submit","id","button-addon1",1,"btn","btn-primary","boton",3,"click"],[1,"table","table-sm"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"far","fa-trash-alt","icon"],["type","submit",1,"btn","btn-info","btn-sm",3,"routerLink"],[1,"fas","fa-user-edit","icon"]],template:function(t,r){1&t&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"div",2),c.Wb(3,"h1"),c.uc(4,"Categor\xedas:"),c.Vb(),c.Vb(),c.Wb(5,"form",3),c.ec("ngSubmit",(function(){return r.agregarCategoria()})),c.Wb(6,"div",1),c.Wb(7,"div",4),c.Sb(8,"input",5),c.Vb(),c.Wb(9,"div",6),c.Wb(10,"button",7),c.ec("click",(function(){return r.agregarCategoria()})),c.uc(11,"Agregar Categor\xedas"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(12,"div",8),c.Wb(13,"table",9),c.Wb(14,"thead"),c.Wb(15,"tr"),c.Wb(16,"th",10),c.uc(17,"Id"),c.Vb(),c.Wb(18,"th",10),c.uc(19,"Categor\xeda"),c.Vb(),c.Sb(20,"th",10),c.Vb(),c.Vb(),c.Wb(21,"tbody"),c.tc(22,g,10,5,"tr",11),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Sb(23,"div",12)),2&t&&(c.Hb(5),c.kc("formGroup",r.miFormulario),c.Hb(17),c.kc("ngForOf",r.categorias))},directives:[s.m,s.f,s.d,s.a,s.e,s.c,e.j,a.c],styles:["*[_ngcontent-%COMP%]{color:#398adb}.boton[_ngcontent-%COMP%]{color:beige}"]}),t})();const l=[{path:"",component:d},{path:"agregarCategoria",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-agregar-categorias"]],decls:2,vars:0,template:function(t,r){1&t&&(c.Wb(0,"p"),c.uc(1,"agregar-categorias works!"),c.Vb())},styles:[""]}),t})()},{path:"editarCategoria/:_id",component:d}];let f=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(r){return new(r||t)},imports:[[a.f.forChild(l)],a.f]}),t})(),m=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(r){return new(r||t)},imports:[[e.b,f,s.h]]}),t})()}}]);